<div class="container-fluid">
    <!-- HTML form mark up -->
    <form [formGroup]="entryForm" novalidate>
      <div class="card">
        <div class="card-header">
          <div class="float-left"><h3 class="text-info">Busca Avançada de HQ</h3></div>
          <div class="float-right">
            <!-- HTML markup for form mode New or Edit -->
          </div>
        </div>
        <div class="card-body">
          <div class="alert alert-danger" [hidden]="!error" translate>Titulo, Editora incorretos.</div>
          <div class="form-group">
            <div class="row">
              <div class="col-sm">
                <label for="titulo">Titulo</label>
                <label class="d-block">
                  <input
                    type="text"
                    class="form-control"
                    formControlName="titulo"
                  />
                  <!--<img class="img-responsive" src="assets/capas/image1.jpg" alt="Angular" loading="lazy"/>-->
                </label>
                <label id="editora" for="editora">Editora</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    formControlName="editora"
                    id="editora"
                    [(ngModel)]="selectedEditora"
                  >
                    <option *ngFor="let editora of editoras" [value]="editora.nome">{{ editora.nome }}</option>
                  </select>
                </label>
                <label for="status">Status</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    formControlName="status"
                    id="status"
                    [(ngModel)]="selectedStatus"
                  >
                    <option *ngFor="let statu of status" [value]="statu.codigo">{{ statu.nome }}</option>
                  </select>
                </label>
                <label for="status">Formato</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    formControlName="formato"
                    id="formato"
                    [(ngModel)]="selectedFormato"
                  >
                    <option *ngFor="let formato of formatos" [value]="formato.codigo">{{ formato.nome }}</option>
                  </select>
                </label>
                <label for="roteiro">Desenho/Roteiro/ArteFinal</label>
                <label class="d-block">
                  <input
                  type="text"
                  class="form-control"
                  formControlName="roteiro"
                 />
                </label>
              </div>
              <div class="col-sm">
                <label for="anoLancamento">Ano de Lançamento</label>
                <label class="d-block">
                  <input
                    type="text"
                    class="form-control"
                    formControlName="anoLancamento"
                  />
                </label>
                <label for="numeroEdicao">Número da Edição</label>
                <label class="d-block">
                  <input
                    type="text"
                    class="form-control"
                    formControlName="numeroEdicao"
                  />
                </label>
                <label for="categoria">Categoria</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    id="categoria"
                    formControlName="categoria"
                    [(ngModel)]="selectedCategoria"
                  >
                    <option *ngFor="let categoria of categorias" [value]="categoria.codigo">{{ categoria.nome }}</option>
                  </select>
                </label>
                <label for="categoria">Genero</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    id="genero"
                    formControlName="genero"
                    [(ngModel)]="selectedGenero"
                    data-live-search="true"
                  >
                    <option *ngFor="let genero of generos" [value]="genero.codigo">{{ genero.nome }}</option>
                  </select>
                </label>
                <label for="lido">Lido</label>
                <label class="d-block">
                  <select
                    class="form-control"
                    id="lido"
                    formControlName="lido"
                    [(ngModel)]="selectedLido"
                    data-live-search="true"
                  >
                    <option *ngFor="let lido of lidos" [value]="lido.codigo">{{ lido.nome }}</option>
                  </select>
                </label>
                <label for="personagens">Personagens</label>
                <label class="d-block">
                  <input
                  type="text"
                  class="form-control"
                  formControlName="personagens"
                 />
                </label>               
                <button
                  (click)="onSearch()"
                  class="btn btn-danger w-20"
                  type="submit"
                >
                  <span translate><i class="fas fa-search"></i> Buscar</span>
                </button>
              </div>
            </div>
            <div class="card-body">
              <div class="col-sm"></div>
            </div>
          </div>
        </div>
        <div class="container-fluid">
          <div class="card">
            <div class="card-header">
              <div class="float-left"><h3 class="text-info">HQs encontradas</h3></div>
            </div>
            <div class="card-body">
              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                  
                <!-- Position Column -->
                <ng-container matColumnDef="titulo">
                  <th mat-header-cell *matHeaderCellDef>Titulo</th>
                  <td mat-cell *matCellDef="let hq"><a [routerLink]="['/hq', hq.id, hq.titulo]">{{ hq.titulo }}</a></td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="linkDetalhes">
                  <th mat-header-cell *matHeaderCellDef>Link Detalhes</th>
                  <td mat-cell *matCellDef="let hq"><a href="{{ hq.linkDetalhes }}" target="_blank">Link detalhes</a></td>
                </ng-container>
  
                <!-- Weight Column -->
                <!--<ng-container matColumnDef="thumbCapa">
                  <th mat-header-cell *matHeaderCellDef> Capa </th>
                  <td mat-cell *matCellDef="let hq"><a href="{{hq.thumbCapa}}" target="_blank">Capa</a></td>
                </ng-container> -->
  
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: 'true'"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns" (click)="selection.toggle(row)"></tr>
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">Não foi encontrada nenhuma HQ com o criterio informado</td>
                </tr>
              </table>
              <div
                *ngIf="isLoading"
                style="display: flex; justify-content: center; align-items: center; background: white"
              >
                <mat-progress-spinner color="primary" mode="indeterminate"> </mat-progress-spinner>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="col-sm"></div>
        </div>
        <div class="card-footer">
          <div class="float-left">
            <!-- HTML markup for Create button -->
            <!-- HTML markup for Delete button -->
          </div>
          <div class="float-right">
            <!-- HTML markup for Back button -->
          </div>
        </div>
      </div>
    </form>
  </div>
  